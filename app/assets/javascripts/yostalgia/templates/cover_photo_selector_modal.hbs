{{#modal-dialog action='close' class='photo-selector-dialog'}}
  <div class="modal-dialog-content">
    <div class="modal-dialog-header">
      <button type="button" class="modal-dialog-close" {{action 'close'}}>&times;</button>
      <h4 class="modal-dialog-title">
        Select cover photo:
        {{albumTitle}}
        {{#if albumTitle}}
          (<a href="#" {{action 'backToAlbumList'}}>back</a>)
        {{/if}}
      </h4>
    </div>

    <div class="modal-dialog-body">
      {{#if showAlbumList}}
        <ul class="photo-selector-list">
          {{#if showCoverPhotoAlbum}}
            <li {{action 'showCoverPhotoAlbum'}}>
              {{attachmentImage user.profile.coverPhoto width='100' height='100' fit='crop'}}
              <span>Cover Photos</span>
            </li>
          {{/if}}
          {{#if showProfilePhotoAlbum}}
            <li {{action 'showProfilePhotoAlbum'}}>
              {{attachmentImage profileAlbumImage width='100' height='100' fit='crop'}}
              <span>Profile Photos</span>
            </li>
          {{/if}}
          {{#if showGeneralPhotoAlbum}}
            <li {{action 'showGeneralPhotoAlbum'}}>
              {{attachmentImage generalAlbumImage width='100' height='100' fit='crop'}}
              <span>Other Photos</span>
            </li>
          {{/if}}
          {{#if showYostalgiaCoversAlbum}}
            <li {{action 'showYostalgiaCoverAlbum'}}>
              {{attachmentImage yostalgiaCoverAlbumImage width='100' height='100' fit='crop'}}
              <span>Our Covers</span>
            </li>
          {{/if}}
        </ul>
      {{/if}}

      {{#if showPhotoList}}
        {{render 'photoSelectorList'}}
      {{/if}}

      {{#if selectedPhoto}}
        <div class="selected-photo">
          {{attachmentImage selectedPhoto height='250' cssClass="loading-white-64"}}
        </div>
      {{/if}}

      {{#if newPhotoFile}}
        <div class="selected-photo">
          {{attachmentImage newPhotoFile height='250' cssClass="loading-white-64"}}
        </div>
      {{/if}}
    </div>

    <div class="modal-dialog-footer">
      {{#if showUploadButton}}
        or
        {{#view Yostalgia.FilePickerInput value=newPhotoFile class='btn btn-primary btn-rounded'}}
          Upload a photo
        {{/view}}
      {{/if}}

      {{#if showSaveButton}}
        <button {{action clearSelected}} class="btn btn-rounded btn-secondary">Change selection</button>
        <button {{action save}} class="btn btn-rounded btn-primary">Save</button>
      {{/if}}

      {{#if isSaving}}
        Saving...
      {{/if}}
    </div>
  </div>
{{/modal-dialog}}
